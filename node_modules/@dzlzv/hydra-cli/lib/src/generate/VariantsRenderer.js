"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VariantsRenderer = void 0;
const AbstractRenderer_1 = require("./AbstractRenderer");
const ModelRenderer_1 = require("./ModelRenderer");
const EnumContextProvider_1 = require("./EnumContextProvider");
const union_context_1 = require("./union-context");
class VariantsRenderer extends AbstractRenderer_1.AbstractRenderer {
    constructor(model, context = {}) {
        super(model, context);
    }
    withVariants() {
        const variants = [];
        for (const v of this.model.variants) {
            const renderer = new ModelRenderer_1.ModelRenderer(this.model, v, new EnumContextProvider_1.EnumContextProvider(), {});
            variants.push(renderer.transform());
        }
        return {
            variants,
        };
    }
    withUnions() {
        const unions = [];
        for (const u of this.model.unions) {
            unions.push(union_context_1.withUnionType(u));
        }
        return {
            unions,
        };
    }
    transform() {
        return Object.assign(Object.assign({}, this.withUnions()), this.withVariants());
    }
}
exports.VariantsRenderer = VariantsRenderer;
